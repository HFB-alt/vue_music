(function(t){function e(e){for(var i,a,r=e[0],c=e[1],u=e[2],l=0,m=[];l<r.length;l++)a=r[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&m.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);h&&h(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var r=n[a];0!==s[r]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},a={app:0},s={app:0},o=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-a0a84056":"ee15ad66","chunk-e147036a":"aeab2e7d","chunk-f2615242":"f24d5d04"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-a0a84056":1,"chunk-e147036a":1,"chunk-f2615242":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var i="css/"+({}[t]||t)+"."+{"chunk-a0a84056":"c6e0a426","chunk-e147036a":"5278fed1","chunk-f2615242":"25810a0d"}[t]+".css",s=c.p+i,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var u=o[r],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===i||l===s))return e()}var m=document.getElementsByTagName("style");for(r=0;r<m.length;r++){u=m[r],l=u.getAttribute("data-href");if(l===i||l===s)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var i=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete a[t],h.parentNode.removeChild(h),n(o)},h.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){a[t]=0})));var i=s[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,n){i=s[t]=[e,n]}));e.push(i[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=r(t);var m=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(h);var n=s[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;m.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",m.name="ChunkLoadError",m.type=i,m.request=a,n[1](m)}s[t]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var m=0;m<u.length;m++)e(u[m]);var h=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0b01":function(t,e,n){},"17bf":function(t,e,n){},"358a":function(t,e,n){"use strict";n("f37d")},"3a5e":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading"},[n("div",[n("i"),n("i"),n("i")])])}],s={name:"Loading"},o=s,r=(n("ff23"),n("2877")),c=Object(r["a"])(o,i,a,!1,null,"765a5071",null);e["a"]=c.exports},"4b1e":function(t,e,n){"use strict";n("17bf")},"4b94":function(t,e,n){},"51a0":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=(n("d3b7"),n("bc3a")),s=n.n(a),o={baseURL:"http://music.kele8.cn"},r=s.a.create(o);r.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=r,window.axios=r,Object.defineProperties(t.prototype,{axios:{get:function(){return r}},$axios:{get:function(){return r}},$http:{get:function(){return r}}})},i["a"].use(Plugin);Plugin;var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("TopNav",{directives:[{name:"show",rawName:"v-show",value:t.$route.meta.isShowNav,expression:"$route.meta.isShowNav"}]}),n("div",{staticStyle:{"padding-bottom":"50px"}},[n("keep-alive",[n("router-view")],1)],1),n("PlayMusic",{attrs:{musicID:t.$root.playMusic.musicID}})],1)},u=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"playMusic"},[i("div",{staticClass:"player"},[i("audio",{ref:"musicplayer",attrs:{autoplay:"",src:"https://music.163.com/song/media/outer/url?id="+t.$root.playMusic.musicID+".mp3"},on:{timeupdate:t.timeupdate}}),i("div",{staticClass:"playBar"},[i("i",{ref:"rotateImg"},[i("img",{attrs:{src:t.song.al.picUrl}})]),i("i",{staticClass:"iconfont icon-shangyishou",on:{click:t.prev}}),i("i",{on:{click:t.showPlayer}},[t._v(" "+t._s(t._f("formatAuthor")(t.song.ar))+" - "+t._s(t.song.name)+" ")]),i("i",{staticClass:"iconfont icon-xiayishou",on:{click:t.next}}),i("i",{on:{click:t.togglePlay}},[i("canvas",{ref:"canvas",attrs:{width:"30",height:"30"}}),i("span",{class:["iconfont",{"icon-sanjiaoxing":!t.$root.playMusic.isPlay&&!t.$root.playMusic.isShow,"icon-dengyu-":t.$root.playMusic.isPlay&&t.$root.playMusic.isShow}]})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.$root.playMusic.isShowPlayPage,expression:"$root.playMusic.isShowPlayPage"}],staticClass:"players"},[i("div",{staticClass:"playerbg",style:{backgroundImage:"url("+t.song.al.picUrl+")"}}),i("div",{staticClass:"player"},[i("img",{staticClass:"pole",attrs:{src:n("a286")}}),i("div",{ref:"playingCD",staticClass:"playCD",on:{click:t.togglePlay}},[i("div",[i("img",{attrs:{src:n("f2db")}}),i("div",{staticClass:"musicPic"},[i("img",{attrs:{src:t.song.al.picUrl}})])])]),i("i",{directives:[{name:"show",rawName:"v-show",value:t.$root.playMusic.isPlay,expression:"$root.playMusic.isPlay"}],staticClass:"playButton"})]),i("div",{staticClass:"box"},[i("h1",[t._v(t._s(t.song.name))]),i("h3",[t._v(t._s(t._f("formatAuthor")(t.song.ar)))]),i("div",{staticClass:"lrc"},[i("div",[i("ul",{style:{transform:"translateY(-"+25*t.index+"px)"}},t._l(t.lrcArr,(function(e,n){return i("li",{key:n,class:{active:n==t.index}},[t._v(" "+t._s(e.lyric)+" ")])})),0)])])]),i("div",{staticClass:"comments"},[i("h3",{staticClass:"hotComments"},[t._v("精彩评论")]),i("ul",t._l(t.hotComments,(function(t){return i("Comments",{key:t.commentId,attrs:{item:t}})})),1),i("h3",{staticClass:"newComments"},[t._v("最新评论")]),i("ul",t._l(t.comments,(function(t){return i("Comments",{key:t.commentId,attrs:{item:t}})})),1)]),i("i",{staticClass:"iconfont icon-cha",on:{click:t.close}})])])])},m=[],h=(n("4160"),n("d81d"),n("b0c0"),n("4d63"),n("ac1f"),n("25f0"),n("1276"),n("159b"),n("ed2c"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("div",{staticClass:"left"},[n("img",{attrs:{src:t.item.user.avatarUrl}}),n("i",{directives:[{name:"show",rawName:"v-show",value:null==t.item.user.avatarDetail,expression:"item.user.avatarDetail == null"}],style:{backgroundImage:"url("+t.item.user.avatarDetail+")"}})]),n("div",{staticClass:"right"},[n("div",{staticClass:"box"},[n("div",{staticClass:"right_left"},[n("div",[t._v(t._s(t.item.user.nickname))]),n("div",[t._v(t._s(t._f("formateDate")(t.item.time,t.handleDate)))])]),n("div",{staticClass:"right_right"},[n("span",[t._v(t._s(t.item.likedCount))]),n("i",[n("svg",{staticClass:"u-svg u-svg-unzancmt",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"}},[n("path",{attrs:{fill:"#999",d:"m25.857 14.752c-.015.059-1.506 5.867-2.932 8.813-1.162 2.402-3 2.436-3.099 2.436h-12.826v-13c3 0 5.728-4 5.728-7.275 0-3.725 1.433-3.725 2.142-3.725 1.327 0 1.978 1.345 1.978 4 0 2.872-.832 4.525-.839 4.537-.161.31-.155.682.027.981.181.299.5.482.849.482h6.942c.922 0 1.551.215 1.866.64.467.626.286 1.705.164 2.112m-23.857 10.248v-10c0-1.795.659-1.981.855-2h2.145v13h-2.173c-.829 0-.827-.648-.827-1m25.309-13.54c-.713-.969-1.886-1.46-3.482-1.46h-5.519c.26-.932.519-2.285.519-4 0-5.221-2.507-6-4-6-1.909 0-4.185.993-4.185 5.725 0 2.206-1.923 5.275-3.815 5.275h-4-.011c-1.034.011-2.816.862-2.816 4v10.02c0 1.198.675 2.979 2.827 2.979h16.971.035c.364 0 3.224-.113 4.894-3.564 1.514-3.127 3.01-8.942 3.056-9.14.071-.23.664-2.289-.474-3.836"}})])])])]),n("p",[t._v(t._s(t.item.content))])])])}),f=[],p=(n("99af"),{name:"Comments",props:{item:{type:Object,default:function(){return{user:{avatarUrl:"",avatarDetail:{identityIconUrl:""},nickname:null},time:0,likedCount:0,content:null}}}},filters:{formateDate:function(t,e){var n=new Date(t),i=e(n);return i}},methods:{handleDate:function(t){var e=t.getFullYear(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate(),a=t.getHours()<10?"0"+t.getHours():t.getHours(),s=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),o=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return"".concat(e,"-").concat(n,"-").concat(i," ").concat(a,":").concat(s,":").concat(o)}}}),d=p,g=(n("9284"),n("2877")),v=Object(g["a"])(d,h,f,!1,null,"38354cf1",null),y=v.exports,_={name:"PlayMusic",props:["musicID"],data:function(){return{song:{al:{picUrl:""},name:"-Music-Player--",ar:[]},lrcArr:[],index:0}},components:{Comments:y},watch:{musicID:function(t){var e=this;this.$http.get("/song/detail?ids="+t).then((function(t){console.log(t),e.song=t.data.songs[0]})),this.$http.get("/lyric?id="+t).then((function(t){var n=t.data.lrc.lyric,i=n.split(/\n/),a=/\[(\d+):(\d+\.\d+)\](.+)/;e.lrcArr=i.map((function(t){return a.test(t),{time:parseInt(60*RegExp.$1)+parseFloat(RegExp.$2),lyric:RegExp.$3}})),console.log("hhhhh",e.lrcArr)}))},state:function(t){this.$refs.rotateImg.style.animationPlayState=1==t?"running":"paused"}},filters:{formatAuthor:function(t){var e="";return t.forEach((function(t,n){0==n?e=t.name:e+=" / "+t.name})),e}},computed:{state:function(){return this.$root.playMusic.isPlay},comments:function(){return this.$root.playMusic.comments},hotComments:function(){return this.$root.playMusic.hotComments}},methods:{togglePlay:function(){this.$root.playMusic.flag&&(this.$root.playMusic.isShow=!this.$root.playMusic.isShow,this.$root.playMusic.isPlay?(this.$root.playMusic.isPlay=!1,this.$refs.musicplayer.pause(),this.$refs.rotateImg.style.animationPlayState="paused",this.$refs.playingCD.style.animationPlayState="paused"):(this.$root.playMusic.isPlay=!0,this.$refs.musicplayer.play(),this.$refs.rotateImg.style.animationPlayState="running",this.$refs.playingCD.style.animationPlayState="running"))},timeupdate:function(t){for(var e=t.target.currentTime,n=t.target.duration,i=e/n,a=0;a<this.lrcArr.length;a++)if(this.lrcArr[a].time){var s=this.lrcArr[a].time;if(e>=s&&e<this.lrcArr[a+1].time){this.index=a;break}}this.drawCircle(i)},drawCircle:function(t){var e=this.$refs.canvas,n=e.getContext("2d");n.beginPath(),n.StrokeStyle="gray",n.arc(15,15,13,-Math.PI/2,1.5*Math.PI),n.stroke(),n.beginPath(),n.StrokeStyle="white",n.arc(15,15,13,-Math.PI/2,2*Math.PI*t),n.stroke(),n.closePath()},showPlayer:function(){this.$root.playMusic.isShowPlayPage=!0},close:function(){this.$root.playMusic.isShowPlayPage=!1},next:function(){var t=this;this.$root.playMusic.musicList.forEach((function(e,n){e.id==t.musicID&&(t.$root.playMusic.musicID=t.$root.playMusic.musicList[n+1].id,console.log(n))}))},prev:function(){var t=this;this.$root.playMusic.musicList.forEach((function(e,n){e.id==t.musicID&&(t.$root.playMusic.musicID=t.$root.playMusic.musicList[n-1].id)}))}}},M=_,b=(n("92a9"),Object(g["a"])(M,l,m,!1,null,"14f4af74",null)),w=b.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topNav"},[n("ul",[n("li",[n("router-link",{attrs:{tag:"a",to:"/"}},[t._v("推荐音乐")])],1),n("li",[n("router-link",{attrs:{tag:"a",to:"/hotMusic/1"}},[t._v("热歌榜")])],1),n("li",[n("router-link",{attrs:{tag:"a",to:"/search"}},[t._v("搜索")])],1)])])},C=[],P={name:"TopNav"},x=P,k=(n("d77c"),Object(g["a"])(x,$,C,!1,null,"38ea1c22",null)),S=k.exports,I={name:"App",components:{PlayMusic:w,TopNav:S}},L=I,D=(n("d1f6"),Object(g["a"])(L,c,u,!1,null,"fb84f51e",null)),E=D.exports,j=n("8c4f"),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend"},[n("Title",[t._v("推荐歌单")]),n("ul",{staticClass:"recommendList"},t._l(t.musicRecommendList,(function(e){return n("router-link",{key:e.id,attrs:{to:{path:"/recommendContent/"+e.id},tag:"li"}},[n("div",[n("img",{attrs:{src:e.picUrl}}),n("span",[t._v(t._s(t._f("formatNum")(e.playCount)))])]),n("p",[t._v(t._s(e.name))])])})),1),t.musicRecommendList<=0?n("Loading"):t._e(),n("Title",[t._v("最新音乐")]),n("MusicItem",{attrs:{newMusicList:t.newMusicList}})],1)},O=[],A=(n("b680"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[t._t("default")],2)}),T=[],R={name:"Title"},U=R,B=(n("871c"),Object(g["a"])(U,A,T,!1,null,"113fe0cc",null)),H=B.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"musicitem"},[n("ul",{staticClass:"newmusiclist"},t._l(t.newMusicList,(function(t,e){return n("ListItem",{key:t.id,attrs:{num:e+1,item:t}})})),1),t.newMusicList.length<=0?n("Loading"):t._e()],1)},F=[],q=n("3a5e"),J=n("af40"),Y={name:"MusicItem",props:{newMusicList:{type:Array,default:function(){return[]}}},components:{Loading:q["a"],ListItem:J["a"]}},K=Y,G=(n("f235"),Object(g["a"])(K,z,F,!1,null,"28305f37",null)),Q=G.exports,V={name:"Recommend",data:function(){return{musicRecommendList:[],newMusicList:[]}},components:{Title:H,MusicItem:Q,Loading:q["a"]},filters:{formatNum:function(t){return(t/1e4).toFixed(1)+"万"}},methods:{},beforeRouteEnter:function(t,e,n){n((function(t){t.$http.get("/personalized?limit=6").then((function(e){t.musicRecommendList=e.data.result})).catch((function(){})),t.$http.get("/personalized/newsong").then((function(e){t.newMusicList=e.data.result,t.$root.playMusic.musicList=e.data.result})).catch((function(){}))}))}},W=V,X=(n("4b1e"),Object(g["a"])(W,N,O,!1,null,"7a0dcb68",null)),Z=X.exports;i["a"].use(j["a"]);var tt=[{path:"/",name:"Recommend",component:Z,meta:{isShowNav:!0}},{path:"/hotMusic",name:"HotMusic",component:function(){return n.e("chunk-a0a84056").then(n.bind(null,"e37d"))},meta:{isShowNav:!0}},{path:"/hotMusic/:num",name:"HotMusicItem",component:function(){return n.e("chunk-a0a84056").then(n.bind(null,"e37d"))},meta:{isShowNav:!0}},{path:"/search",name:"Search",component:function(){return n.e("chunk-f2615242").then(n.bind(null,"2d3b"))},meta:{isShowNav:!0}},{path:"/recommendContent/:id",name:"RecommendContent",props:!0,component:function(){return n.e("chunk-e147036a").then(n.bind(null,"40b7"))}}],et=new j["a"]({mode:"hash",routes:tt}),nt=et;i["a"].config.productionTip=!1,new i["a"]({router:nt,data:{playMusic:{musicID:0,isPlay:!1,currentIndex:-1,isShow:!1,flag:!1,isShowPlayPage:!1,musicList:[],comments:[],hotComments:[]}},render:function(t){return t(E)}}).$mount("#app")},"871c":function(t,e,n){"use strict";n("51a0")},9284:function(t,e,n){"use strict";n("4b94")},"92a9":function(t,e,n){"use strict";n("f700")},a286:function(t,e,n){t.exports=n.p+"img/pole.be4ebbeb.png"},af40:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{attrs:{to:"",tag:"li"}},[t._t("default"),n("div",{staticClass:"left",on:{click:t.showPlayer}},[t.item.highlights?n("div",{staticClass:"highlight"},[t._v(t._s(t.item.name))]):t._e(),t.item.highlights?t._e():n("div",[t._v(t._s(t.item.name))]),n("p",[t.item.song.privilege.maxbr>32e4?n("span",{staticClass:"icon"}):t._e(),t._v(" "+t._s(t._f("formatAuthor")(t.item.song.artists))+" - "),t.item.highlights?n("span",{staticClass:"highlight"},[t._v(t._s(t.item.song.album.name))]):t._e(),t.item.highlights?t._e():n("span",[t._v(t._s(t.item.song.album.name))])])]),n("div",{staticClass:"right"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.$root.playMusic.currentIndex!=t.num-1||!t.$root.playMusic.isPlay,expression:"\n        $root.playMusic.currentIndex != num - 1 || !$root.playMusic.isPlay\n      "}],on:{click:t.playMusic}}),n("i",{directives:[{name:"show",rawName:"v-show",value:t.$root.playMusic.currentIndex==t.num-1&&t.$root.playMusic.isPlay,expression:"\n        $root.playMusic.currentIndex == num - 1 && $root.playMusic.isPlay\n      "}],staticClass:"iconfont icon-zantingtingzhi",on:{click:t.playMusic}})])],2)},a=[],s=(n("4160"),n("b0c0"),n("a9e3"),n("159b"),n("ed2c"),{name:"ListItem",props:{num:{type:Number,default:function(){return 0}},item:{type:Object}},created:function(){console.log(this.item),console.log("0000000",this.num)},methods:{playMusic:function(){var t=this;this.$root.playMusic.musicID=this.item.id,this.$root.playMusic.currentIndex=this.num-1,this.$root.playMusic.isPlay=!this.$root.playMusic.isPlay,this.$root.playMusic.isShow=!this.$root.playMusic.isShow,this.$root.playMusic.flag=!0,this.$http.get("/comment/music?id=".concat(this.$root.playMusic.musicID,"&limit=10")).then((function(e){console.log(e),t.$root.playMusic.comments=e.data.comments,t.$root.playMusic.hotComments=e.data.hotComments}))},showPlayer:function(){this.$root.playMusic.isShowPlayPage=!0}},filters:{formatAuthor:function(t){var e="";return t.forEach((function(t,n){0==n?e=t.name:e+=" / "+t.name})),e}}}),o=s,r=(n("358a"),n("2877")),c=Object(r["a"])(o,i,a,!1,null,"73770a29",null);e["a"]=c.exports},c00c:function(t,e,n){},d1f6:function(t,e,n){"use strict";n("c00c")},d77c:function(t,e,n){"use strict";n("fd6a")},ddf5:function(t,e,n){},ed2c:function(t,e,n){},f235:function(t,e,n){"use strict";n("ddf5")},f2db:function(t,e,n){t.exports=n.p+"img/player.2aa9bb90.png"},f37d:function(t,e,n){},f700:function(t,e,n){},fd6a:function(t,e,n){},ff23:function(t,e,n){"use strict";n("0b01")}});
//# sourceMappingURL=app.1b430d8e.js.map