(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e147036a"],{"40b7":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"recommendContent"},[e("TopContent",{attrs:{detailData:t.detailData}}),e("div",{staticClass:"singsList"},[t._v("歌曲列表")]),e("ul",t._l(t.songsList,(function(a,n){return e("ListItem",{key:a.id,attrs:{item:a,num:n+1}},[e("div",{staticClass:"order"},[t._v(t._s(n+1))])])})),1),e("p",{ref:"scrllBar"},[e("Loading",{directives:[{name:"show",rawName:"v-show",value:t.searching,expression:"searching"}]})],1),e("p",{directives:[{name:"show",rawName:"v-show",value:t.noMore,expression:"noMore"}]},[t._v("没有更多内容了！")])],1)},o=[],s=(e("4160"),e("a15b"),e("fb6a"),e("b0c0"),e("d3b7"),e("159b"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"topContent"},[e("div",{staticClass:"container",style:{backgroundImage:"url("+t.detailData.coverImgUrl+")"}}),e("div",{staticClass:"box"},[e("div",{staticClass:"left"},[e("img",{attrs:{src:t.detailData.coverImgUrl}}),e("span",[t._v(t._s(t._f("formatCount")(t.detailData.playCount)))])]),e("div",{staticClass:"right"},[e("p",[t._v(t._s(t.detailData.name))]),e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.detailData.creator.avatarUrl}}),e("span",{staticClass:"nickname"},[t._v(t._s(t.detailData.creator.nickname))])])])])])}),i=[],r=(e("b680"),{name:"TopContent",props:["detailData"],data:function(){return{}},mounted:function(){console.log("llllllll")},filters:{formatCount:function(t){return(t/1e4).toFixed(1)+"万"}}}),l=r,c=(e("6582"),e("2877")),d=Object(c["a"])(l,s,i,!1,null,"53256283",null),u=d.exports,f=e("af40"),m=e("3a5e"),g={name:"RecommendContent",props:["id"],data:function(){return{detailData:{coverImgUrl:"",name:null,creator:{avatarUrl:"",nikename:null},playCount:0,trackIds:[]},songsList:[],searching:!1,num:0,noMore:!1}},components:{TopContent:u,ListItem:f["a"],Loading:m["a"]},created:function(){window.addEventListener("scroll",this.getMore)},destroyed:function(){window.removeEventListener("scroll",this.getMore)},methods:{getMore:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.clientHeight||document.body.clientHeight,e=this.$refs.scrllBar.offsetTop;t+a>e&&(this.num++,this.getData(this))},getData:function(t){var a=[],e=[];t.searching=!1,t.$http.get("/playlist/detail?id="+t.id).then((function(n){console.log(n),t.detailData={coverImgUrl:n.data.playlist.coverImgUrl,name:n.data.playlist.name,creator:{avatarUrl:n.data.playlist.creator.avatarUrl,nickname:n.data.playlist.creator.nickname},playCount:n.data.playlist.playCount,trackIds:n.data.playlist.trackIds},console.log("aaaaa",t.detailData),a=n.data.playlist.trackIds.slice(20*t.num,20*(t.num+1)),a.length>=20?(a.forEach((function(t){e.push(t.id)})),e=e.join(","),t.noMore=!1):t.noMore=!0})).then((function(){a>=20&&t.$http.get("/song/detail?ids="+e).then((function(a){console.log(a);for(var e=0;e<a.data.songs.length;e++)t.songsList.push({name:a.data.songs[e].name,id:a.data.songs[e].id,song:{privilege:{maxbr:0},artists:a.data.songs[e].ar,album:a.data.songs[e].al}});t.$root.playMusic.musicList=t.songsList}))})).finally((function(){t.searching=!0}))}},beforeRouteEnter:function(t,a,e){e((function(t){t.songsList=[],t.getData(t)}))}},p=g,v=(e("d178"),Object(c["a"])(p,n,o,!1,null,"795404b2",null));a["default"]=v.exports},6582:function(t,a,e){"use strict";e("864f")},"864f":function(t,a,e){},a15b:function(t,a,e){"use strict";var n=e("23e7"),o=e("44ad"),s=e("fc6a"),i=e("a640"),r=[].join,l=o!=Object,c=i("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(t){return r.call(s(this),void 0===t?",":t)}})},d178:function(t,a,e){"use strict";e("fd16")},fb6a:function(t,a,e){"use strict";var n=e("23e7"),o=e("861d"),s=e("e8b5"),i=e("23cb"),r=e("50c4"),l=e("fc6a"),c=e("8418"),d=e("b622"),u=e("1dde"),f=e("ae40"),m=u("slice"),g=f("slice",{ACCESSORS:!0,0:0,1:2}),p=d("species"),v=[].slice,h=Math.max;n({target:"Array",proto:!0,forced:!m||!g},{slice:function(t,a){var e,n,d,u=l(this),f=r(u.length),m=i(t,f),g=i(void 0===a?f:a,f);if(s(u)&&(e=u.constructor,"function"!=typeof e||e!==Array&&!s(e.prototype)?o(e)&&(e=e[p],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return v.call(u,m,g);for(n=new(void 0===e?Array:e)(h(g-m,0)),d=0;m<g;m++,d++)m in u&&c(n,d,u[m]);return n.length=d,n}})},fd16:function(t,a,e){}}]);
//# sourceMappingURL=chunk-e147036a.aeab2e7d.js.map